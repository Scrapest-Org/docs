---
title: "Webhooks"
description: "Manage verification webhooks for receiving notifications"
---

The Web Push Service forwards received tweet notifications to registered webhooks.

<Note>
  This endpoint requires authentication. You must provide the `x-api-token`
  header.
</Note>

## Register Webhook

<ParamField body="url" type="string" required>
  The URL where notifications should be sent. **Validation**: - Must be a valid
  URL string.
</ParamField>

### Error Responses

<ResponseExample>
```json 422 Unprocessable Entity
{
  "status": "fail",
  "error": "Invalid URL format",
  "issues": [
    {
      "validation": "url",
      "code": "invalid_url",
      "message": "URL must be valid",
      "path": [
        {
          "type": "object",
          "origin": "value",
          "input": "not-a-url",
          "key": "url",
          "value": "not-a-url"
        }
      ]
    }
  ]
}
```

```json 400 Bad Request
{
  "status": "error",
  "error": "Missing 'url' in request body"
}
```

</ResponseExample>

<RequestExample>
  ```bash curl
  curl -X POST https://webpush-production.up.railway.app/webhook \
    -H "Content-Type: application/json" \
    -H "x-api-token: YOUR_SECRET_TOKEN" \
    -d '{ "url": "https://your-webhook.com/endpoint" }'
  ```

```javascript fetch
fetch("https://webpush-production.up.railway.app/webhook", {
  method: "POST",
  headers: {
    "Content-Type": "application/json",
    "x-api-token": "YOUR_SECRET_TOKEN",
  },
  body: JSON.stringify({ url: "https://your-webhook.com/endpoint" }),
})
  .then((response) => response.json())
  .then((data) => console.log(data));
```

</RequestExample>

<ResponseExample>
  ```json Response
  {
    "message": "Webhook registered successfully"
  }
  ```
</ResponseExample>

## List Webhooks

Retrieve all currently registered webhooks.

<ResponseField name="webhooks" type="array">
  List of registered webhook URLs.
</ResponseField>

<RequestExample>
  ```bash curl
  curl -X GET https://webpush-production.up.railway.app/webhooks \
  -H "x-api-token: YOUR_SECRET_TOKEN"
  ```

```javascript fetch
fetch("https://webpush-production.up.railway.app/webhooks", {
  method: "GET",
  headers: {
    "x-api-token": "YOUR_SECRET_TOKEN",
  },
})
  .then((response) => response.json())
  .then((data) => console.log(data));
```

</RequestExample>

<ResponseExample>
  ```json Response
  {
    "webhooks": [
      "https://your-webhook.com/endpoint"
    ]
  }
  ```
</ResponseExample>

## Delete Webhook

Remove a webhook from the registry.

<ParamField body="url" type="string" required>
  The URL of the webhook to remove.
</ParamField>

<RequestExample>
  ```bash curl
  curl -X DELETE https://webpush-production.up.railway.app/webhook \
    -H "Content-Type: application/json" \
    -H "x-api-token: YOUR_SECRET_TOKEN" \
    -d '{ "url": "https://your-webhook.com/endpoint" }'
  ```

```javascript fetch
fetch("https://webpush-production.up.railway.app/webhook", {
  method: "DELETE",
  headers: {
    "Content-Type": "application/json",
    "x-api-token": "YOUR_SECRET_TOKEN",
  },
  body: JSON.stringify({ url: "https://your-webhook.com/endpoint" }),
})
  .then((response) => response.json())
  .then((data) => console.log(data));
```

</RequestExample>

<ResponseExample>
  ```json Response
  {
    "message": "Webhook deleted successfully"
  }
  ```
</ResponseExample>
